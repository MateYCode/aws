<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  </head>
  <body>

  <form action="http://xhub-homepim-dev.s3.amazonaws.com/" method="post" enctype="multipart/form-data">
    Key to upload: 
    <input type="input"  name="key" id="key" value="" /><br />
    <input type="hidden" name="success_action_redirect" value="https://www.dolby.com/" />
    Content-Type: 
    <input type="input"  name="Content-Type" value="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" /><br />
    <input type="hidden" name="x-amz-meta-uuid" value="14365123651274" /> 
    <input type="hidden" name="x-amz-server-side-encryption" value="AES256" /> 
    <input type="text"   name="X-Amz-Credential" value="{accessId}/{date}/us-west-2/s3/aws4_request" />
    <input type="text"   name="X-Amz-Algorithm" value="AWS4-HMAC-SHA256" />
    <input type="text"   name="X-Amz-Date" value="{date}T000000Z" />
    <input type="text"   name="x-amz-security-token" value="{sessionToken}" />

    Tags for File: 
    <input type="input"  name="x-amz-meta-tag" value="" /><br />
    <input type="hidden" name="Policy" value="{base64Policy}" />
    <input type="hidden" name="X-Amz-Signature" value="{signature}" />
    File: 
    <input type="file"   id="fileInput" name="file" /> <br />
    <!-- The elements after this will be ignored -->
    <input type="submit" name="submit" value="Upload to Amazon S3" />
  </form>
  
</html>

<script>
// Get file input element
const fileInputEl = document.getElementById('fileInput');
const keyEl = document.getElementById('key');
// Fires on file upload
fileInputEl.addEventListener('change', function(event){
    const { name } = fileInputEl.files[0] || {};
    // Update file name
    keyEl.value= 'files/' + name;
})
</script>